<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>EaglerX Loader</title>

  <!-- JSPI Origin Trial Token -->
  <meta http-equiv="origin-trial" content="YOUR_JSPI_TOKEN_HERE">
</head>
<body>
  <div id="app">Loading EaglerX...</div>

  <script>
    fetch('EaglerX.html')
      .then(response => response.text())
      .then(html => {
        const parser = new DOMParser();
        const doc = parser.parseFromString(html, 'text/html');

        // Replace current document's body and head with EaglerX.html content
        document.head.innerHTML = doc.head.innerHTML;
        document.body.innerHTML = doc.body.innerHTML;

        // Re-run all script tags
        const scripts = doc.querySelectorAll('script');
        scripts.forEach(oldScript => {
          const newScript = document.createElement('script');
          if (oldScript.src) {
            newScript.src = oldScript.src;
          } else {
            newScript.textContent = oldScript.textContent;
          }
          document.body.appendChild(newScript);
        });
      })
      .catch(err => {
        document.getElementById('app').textContent = 'Failed to load EaglerX.html';
        console.error(err);
      });
  </script>
</body>
</html>
